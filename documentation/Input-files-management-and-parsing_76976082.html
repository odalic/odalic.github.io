<!DOCTYPE html>
<html>
    <head>
        <title>ADEQUATE : Input files management and parsing</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">ADEQUATE</a></span>
                            </li>
                                                    <li>
                                <span><a href="Odalic_71438906.html">Odalic</a></span>
                            </li>
                                                    <li>
                                <span><a href="ODALIC-Documentation_76973575.html">ODALIC Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="Developer-Documentation_76973577.html">Developer Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="Server_76975931.html">Server</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            ADEQUATE : Input files management and parsing
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Václav Brodec</span>, last modified on Mär 03, 2017
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>Odalic server distinguishes between two kinds of input CSV files: local and remote ones. Local files gets to be uploaded by the user and reside in the server storage. Remote ones are defined only by their URL. Both kinds share the same structure for meta-data (differing only in their cached flag), and even the local ones have their URL assigned, which is the same under which they can be GET from the REST API. The files are parsed only moment before the execution, so it is possible to get different results if the underlying remote files change or the parsing format of both the local and remote file is changed by the user. Every input file can be shared among multiple processing tasks belonging to the same user, therefore it cannot be deleted as long as at least one task refers to it. The references are kept by the implementing FileService, where for each referring Task has to be subscribed and unsubscribed upon deletion.</p><p>Parsing is done through <a href="https://commons.apache.org/csv/" class="external-link" rel="nofollow">Apache Commons CSV library</a>, which is able to detect line separators, but provides no mean to obtain that information for further use. So detecting code was added to the parser, because the used line separators are needed in order to export the results in the form expected by the client. The result of parsing is a model of CSV file represented by <code>cz.cuni.mff.xrg.odalic.input.Input</code>, consisting of the the list of rows and header (first row). Odalic assumes the file to be consistent, that means containing equal number of records in all rows, and raise an exception if this is not the case.</p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 01, 2017 13:30</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
