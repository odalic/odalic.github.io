<!DOCTYPE html>
<html>
    <head>
        <title>ADEQUATE : REST API: 1st iteration</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">ADEQUATE</a></span>
                            </li>
                                                    <li>
                                <span><a href="Odalic_71438906.html">Odalic</a></span>
                            </li>
                                                    <li>
                                <span><a href="72222608.html">Architecture / Developer Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="REST-API_72225449.html">REST API</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            ADEQUATE : REST API: 1st iteration
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> István Satmári</span>, last modified by <span class='editor'> Václav Brodec</span> on Aug 03, 2016
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h2 id="RESTAPI:1stiteration-Thisdocumentisnotaproposal,butratheraSPECIFICATION.Thereforeifanyoneimplements(oralreadyimplemented)anythingDIFFERENTLY,please,changethedocumentASAP."><strong>This document is not a proposal, but rather a SPECIFICATION. Therefore if anyone implements </strong><strong style="line-height: 1.5;">(or already implemented) anything DIFFERENTLY, please, change the document ASAP.</strong></h2><p>This document also, in a way, deprecates the previous one (&quot;REST API: 1st iteration&quot;). Only the most important services should be available. The rest may be implemented only if anyone feels like they have too much of free time on their hands.</p><h4 id="RESTAPI:1stiteration-Note:TestingRESTAPI">Note: Testing REST API</h4><p>Assumptions: Tomcat installed on localhost:8080, odalic.war available under &quot;/odalic&quot;</p><p>Then the following curl command may be used to get list of uploaded files: </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">curl -X GET http://localhost:8080/odalic/files</pre>
</div></div><h1 id="RESTAPI:1stiteration-Signingup,Authentication">Signing up, Authentication</h1><ul><li>Skipped.</li></ul><h1 id="RESTAPI:1stiteration-Files">Files</h1><ul><li>(1)<strong style="line-height: 1.42857;"> <span class="inline-comment-marker" data-ref="b78e87c6-41b3-4b69-9aee-343e0136eb51">PUT </span></strong><span class="nolink" style="line-height: 1.42857;"><span class="inline-comment-marker" data-ref="b78e87c6-41b3-4b69-9aee-343e0136eb51">http://example.com/</span><span class="inline-comment-marker" data-ref="b78e87c6-41b3-4b69-9aee-343e0136eb51"> </span><strong><span class="inline-comment-marker" data-ref="b78e87c6-41b3-4b69-9aee-343e0136eb51">files</span></strong><span class="inline-comment-marker" data-ref="b78e87c6-41b3-4b69-9aee-343e0136eb51">/</span><strong><span class="inline-comment-marker" data-ref="b78e87c6-41b3-4b69-9aee-343e0136eb51">awesome_movies_2016</span></strong></span></li><li>(2)<strong> GET </strong><span class="nolink">http://example.com/<strong>files</strong>/<strong>awesome_movies_2016</strong></span></li><li><span class="nolink">(3)<strong> DELETE </strong><span class="nolink">http://example.com/<strong>files</strong>/<strong>awesome_movies_2016</strong></span></span></li><li>(4)<strong> GET </strong><span class="nolink">http://example.com/<strong>files</strong>/</span></li><li>Query (1) uploads a file description (FS1) and the file itself, when provided.<br/><ul><li>Identifier '<strong>awesome_movies_2016</strong>' must be unique.</li><li><strong>Returns HTTP 200 OK</strong>, if no problems arise.</li><li>If the MIME type produced by the client is multipart/form-data, then the server expects both the file description JSON object (see FS1) and the file itself in the payload. The location attribute has to be set to the expected location of the uploaded file (<a href="http://example.com/files/awesome_movies_2016)," class="external-link" rel="nofollow">http://example.com/files/awesome_movies_2016)</a> . (This requirement might be dropped when the PATCH method will be implemented in the next iteration). See <a href="#RESTAPI:1stiteration-screenshot1">screenshot 1</a> for guide how to do that.</li><li>If the MIME type produced by the client is application/json, then the server expects only the file description and assumes that the location is specified by the location attribute in the sent JSON object. The location can contain any valid URL.</li><li>The upload is non-resumable.<span class="inline-comment-marker" data-ref="952972a5-6faa-490c-96f5-4c9169674140"> </span><span class="inline-comment-marker" data-ref="952972a5-6faa-490c-96f5-4c9169674140"><br/></span></li></ul></li><li>Query (2) returns either a file description for file with id <span>'</span><strong>awesome_movies_2016</strong><span>'</span> or the file itself, depending on the MIME type set by the client.<ul><li>If the MIME type is set to application/json, then the file description object is returned.</li><li>If the MIME type is set to text/csv, then the file specified in the location is provided. In case of remote location, the server attempts to download the file from the location and passes it as its own.</li><li><span>If the file <strong>does not exist, a HTTP 404 status error</strong> is returned.</span></li><li><em>See (FS1) for output format of the file description.</em></li></ul></li><li><span>Query (3) deletes the file (if local) and its corresponding file description.<br/></span></li><li><span><span>Query (4) returns a list of all the files. </span></span><ul><li><em>See (FS2) below for further details on the returned data.</em></li></ul></li></ul><h4 id="RESTAPI:1stiteration-(FS1)"><strong>(FS1)</strong></h4><p><code>{id: <code>&quot;awesome_movies_2016&quot;, uploaded: &quot;yyyy-MM-dd HH:mm&quot;, owner: &quot;no_meaning_in_this_version_just_some_string&quot;, location: &quot;<span class="nolink">http://example.com/files/awesome_movies_2016</span>&quot; }</code><br/></code></p><h4 id="RESTAPI:1stiteration-(FS2)"><strong>(FS2)</strong></h4><p><code>[ {id: <code style="line-height: 1.42857;">&quot;awesome_movies_2016&quot;, uploaded: &quot;yyyy-MM-dd HH:mm&quot;, owner: &quot;no_meaning_in_this_version_just_some_string&quot;, location: &quot;http://example.com/files/awesome_movies_2016&quot; }, ...</code> ]</code></p><h3 id="RESTAPI:1stiteration-Examples:">Examples:</h3><h4 id="RESTAPI:1stiteration-Puttingafile(remotelocation)">Putting a file (remote location)</h4><p>To put a file (MIME type produced by the client is application/json), thus just provide a link to a file: </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">curl -iX PUT -H &quot;Content-Type:application/json&quot; -d @request-books  http://localhost:8080/odalic/files/boooks</pre>
</div></div><p>where request-books file contains the following JSON:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{&quot;id&quot; : &quot;boooks&quot;, &quot;uploaded&quot;: &quot;2016-08-01 10:10&quot;, &quot;owner&quot;: &quot;no_meaning_in_this_version_just_some_string&quot;, &quot;location&quot; : &quot;https://drive.google.com/open?id=0B7AckGrBKzUtbk5nSTlmMFZQbjg&quot; }</pre>
</div></div><p> where location points to the location from which the file should be downloaded.</p><p> </p><h4 id="RESTAPI:1stiteration-Puttingafile-directlyuploadingthefile">Putting a file - directly uploading the file</h4><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">curl -X PUT -H &quot;Content-Type:multipart/form-data&quot; -F &quot;file=@request-books2;type=application/json&quot; -F &quot;input=@books.csv;type=text/csv&quot; http://localhost:8080/odalic/files/boooks2
</pre>
</div></div><p>Where request-books2 contains the following JSON:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{&quot;id&quot; : &quot;boooks2&quot;, &quot;uploaded&quot;: &quot;2016-08-01 10:10&quot;, &quot;owner&quot;: &quot;no_meaning_in_this_version_just_some_string&quot;, &quot;location&quot; : &quot;http://localhost:8080/odalic/files/boooks2&quot; }</pre>
</div></div><p>and books.csv is the actual file being uploaded.</p><p>Request:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">PUT /odalic/files/boooks2 HTTP/1.1
 HOST: localhost:8080
 content-type: multipart/form-data; boundary=x
 content-length: 567
 
 --x
 Content-Disposition: form-data; name=&quot;file&quot;
 Content-Type: application/json
 
 {&quot;id&quot; : &quot;boooks2&quot;, &quot;uploaded&quot;: &quot;2016-08-01 10:10&quot;, &quot;owner&quot;: &quot;no_meaning_in_this_version_just_some_string&quot;, &quot;location&quot; : &quot;http://localhost:8080/odalic/files/boooks2&quot; }
 --x
 Content-Disposition: form-data; name=&quot;input&quot;
 Content-Type: text/csv
 Content-Transfer-Encoding: base64
 
 Qm9vaztBdXRob3I7U2VyaWVzDQpHYXJkZW5zIG9mIHRoZSBNb29uO1N0ZXZlbiBFcmlrc29uO01h
 bGF6YW4gQm9vayBvZiB0aGUgRmFsbGVuDQpEZWFkaG91c2UgR2F0ZXM7U3RldmVuIEVyaWtzb247
 TWFsYXphbiBCb29rIG9mIHRoZSBGYWxsZW4=
 
 --x--</pre>
</div></div><p> </p><p> </p><h1 id="RESTAPI:1stiteration-Tasks">Tasks</h1><ul><li>(1) <strong>PUT </strong><span class="nolink">http://example.com/<strong>tasks</strong>/<strong>simple_task</strong></span></li><li><span class="nolink">(2)<strong> GET </strong><span class="nolink">http://example.com/<strong>tasks</strong>/<strong>simple_task</strong></span></span></li><li><span class="nolink"><span class="nolink"><span class="nolink">(3)<strong> DELETE </strong><span class="nolink">http://example.com/<strong>tasks</strong>/<strong>simple_task</strong></span></span></span></span></li><li><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink">(4)<strong> PUT </strong><span class="nolink">http://example.com/<strong>tasks</strong>/<strong>simple_task/configuration</strong></span></span></span></span></span></span></span></span></li><li><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink">(5)<strong> GET </strong><span class="nolink">http://example.com/<strong>tasks</strong>/<strong>simple_task/configuration</strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li><li><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink">(6)<strong> <span class="inline-comment-marker" data-ref="71f2c4ee-100d-4b2b-bd96-72c13e8b3241">PUT </span></strong><span class="nolink"><span class="inline-comment-marker" data-ref="71f2c4ee-100d-4b2b-bd96-72c13e8b3241">http://example.com/</span><strong><span class="inline-comment-marker" data-ref="71f2c4ee-100d-4b2b-bd96-72c13e8b3241">tasks</span></strong><span class="inline-comment-marker" data-ref="71f2c4ee-100d-4b2b-bd96-72c13e8b3241">/</span><strong><span class="inline-comment-marker" data-ref="71f2c4ee-100d-4b2b-bd96-72c13e8b3241">simple_task/configuration/feedback</span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li><li><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink">(7)<strong> GET </strong><span class="nolink">http://example.com/<strong>tasks</strong>/<strong>simple_task/configuration/feedback</strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li><li><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink">(8)<strong> GET </strong><span class="nolink">http://example.com/<strong>tasks</strong>/<strong>simple_task/configuration/feedback/input</strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li><li><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink">(9) PUT http://example.com/tasks/simple_task/execution</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li><li><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink">(10) DELETE http://example.com/tasks/simple_task/execution</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="nolink"> </span></li><li><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink">(11)<strong> GET </strong><span class="nolink">http://example.com/<strong>tasks</strong>/<strong>simple_task/result</strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li><li><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink">(12) <strong>GET</strong> http://example.com<strong>/tasks/simple_task/state</strong><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li><li><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"><span class="nolink"> </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="nolink"><span class="inline-comment-marker" data-ref="29788397-3337-4937-a072-c844c86d0652">Query (1) creates a new task definition with the identifier '</span><strong><span class="inline-comment-marker" data-ref="29788397-3337-4937-a072-c844c86d0652">simple_task</span></strong><span class="inline-comment-marker" data-ref="29788397-3337-4937-a072-c844c86d0652">'.</span></span><ul><li><em><span class="inline-comment-marker" data-ref="29788397-3337-4937-a072-c844c86d0652">See (TS1) for the task description format.</span></em></li><li><span class="inline-comment-marker" data-ref="29788397-3337-4937-a072-c844c86d0652">The task is NOT KEPT in any persistent storage. After the task finishes or if the server is shut down, the Odalic core will simply forget about it.</span></li></ul></li><li>Query (2) returns the task definition (TS1).</li><li>Query (3) removes the task. Although the task is deleted, any running computation might not be stopped immediately.</li><li>Query (4) sets a new task configuration for possible next execution.<ul><li><em>See (TS2) for the format description.</em></li></ul></li><li>Query (5) returns the task configuration object (TS2).</li><li>Query (6) sets a feedback that the algorithm should take into account in case of next execution.<ul><li><em>See (TS3) for the format description. Only the changes against the result are sent.<br/></em></li></ul></li><li>Query (7) returns the feedback set.</li><li>Query (8) returns the structured input of the task, upon which the feedback can be set.<ul><li><em>See (TS4) for the format description.</em></li></ul></li><li>Query (9) submits the task for execution.<ul><li>Any previous executions must be either finished or cancelled.</li><li><em>The execution object format is described in (TS5), the draft flag is ignored for now.</em></li></ul></li><li>Query (10) cancels task execution.</li><li>Query (11) returns the result of task execution.<ul><li>The result contains the annotations in structured format as described in (TS6).</li><li>The call waits for the process to finish.</li></ul></li><li>Query (12) return the state of execution.<ul><li><em>See (TS7) for format description.</em></li></ul></li></ul><p><strong style="color: rgb(0,0,0);line-height: 1.42857;"><strong>(TS1)</strong></strong></p><p><code>{ &quot;id&quot;: &quot;simple_task&quot;, created: &quot;yyyy-MM-dd HH:mm&quot;, &quot;configuration&quot;: { ... } }</code></p><p>For configuration object description, see below.</p><p><strong><strong>(TS2)</strong></strong></p><p><code>{ &quot;input&quot;: &quot;file description ID&quot;, feedback: { ... } }</code></p><p><strong><strong><strong>(TS3)</strong></strong></strong></p><p><code>{<br/>    &quot;subjectColumnPosition&quot;: { &quot;index&quot;: 3 },<br/>    &quot;columnIgnores&quot;: [ // Columns are ignored for the rest of processing.<br/>        { position: { index: 6 } },<br/>        ...<br/>    ],<br/>    &quot;classifications&quot;: [<br/>        {<br/>            position: { index: 5 },<br/>            annotation: {<br/>                &quot;candidates&quot;: { // Candidates may limit the pool of possible canddiates to choose from without actually forcing one. But for the 1st iteration it should be just the chosen copy.<br/>                    &quot;dbpedia&quot;: [<br/>                        {<br/>                            &quot;entity&quot;: { &quot;resource&quot;: &quot;<a href="http://bleble.com" class="external-link" rel="nofollow">http://bleble.com</a>&quot;, &quot;label&quot;: &quot;Ble&quot; },<br/>                            &quot;likelihood&quot;: { &quot;value&quot;: 0.5 },</code></p><p><code>                            &quot;chosen&quot;: true<br/>                        },<br/>                        ...<br/>                    ],<br/>                    &quot;wikidata&quot;: ...,<br/>                    ...<br/>                },<br/>                &quot;chosen&quot;: { // Chosen forces the core to fill these entities.<br/>                    &quot;dbpedia&quot;: [<br/>                        {<br/>                            &quot;entity&quot;: { &quot;resource&quot;: &quot;<a href="http://bleble.com" class="external-link" rel="nofollow">http://bleble.com</a>&quot;, label: &quot;Ble&quot; },<br/>                            &quot;likelihood&quot;: { &quot;value&quot;: 0.5 },</code></p><p><code><code>                            &quot;chosen&quot;: false</code><br/>                        },<br/>                        ...<br/>                    ],<br/>                    &quot;wikidata&quot;: ...,<br/>                    ...<br/>                }<br/>            }<br/>        },<br/>        ...<br/>    ],<br/>    &quot;columnAmbiguities&quot;: [ // Skipping disambiguation in all cells of the specified columns.<br/>        { position: { index: 6 } },<br/>        ...<br/>    ],<br/>    &quot;ambiguities&quot;: [ // Skipping disambiguation for the cells provided.<br/>        { position: { rowPosition: { index: 6 }, columnPosition: { index: 6 } } },<br/>        ...<br/>    ],<br/>    &quot;disambiguations&quot;: [ <br/>        {<br/>            position: { rowPosition: { index: 5 }, columnPosition: { index: 9 } },<br/>            annotation: { ... } // Same as above.<br/>        },<br/>        ...<br/>    ],<br/>    &quot;cellRelations&quot;: [<br/>        {<br/>            position: { columnsPosition: { first: { index: 5 }, second: { index: 9 } }, rowPosition: { index: 3 } },<br/>            annotation: { ... } // Same as above.<br/>        },<br/>        ...<br/>    ],<br/>    &quot;columnRelations&quot;: [<br/>        {<br/>            position: { first: { index: 5 }, second: { index: 9 } },<br/>            annotation: { ... } // Same as above.<br/>        },<br/>        ...<br/>    ]<br/>}<br/><br/>// All indices are zero-based.</code></p><p><strong style="color: rgb(0,0,0);line-height: 1.42857;"><strong>(TS4)</strong></strong></p><pre>{ &quot;headers&quot;: [ &quot;country&quot;, &quot;city&quot;, ...], &quot;content&quot;: [ [ &quot;Albania&quot;, &quot;Tirana&quot; ], ... ] }<strong style="color: rgb(0,0,0);line-height: 1.42857;"><strong><br/></strong></strong></pre><p><strong style="color: rgb(0,0,0);line-height: 1.42857;"><strong><strong>(TS5)</strong></strong></strong></p><pre>{ draft: false }<strong style="color: rgb(0,0,0);line-height: 1.42857;"><strong><strong><br/></strong></strong></strong></pre><p> </p><p><strong><strong><strong>(TS6)</strong></strong></strong></p><p> </p><p> </p><p>Suppose the following input table that will be processed by the TableMiner+ algorithm:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">City</th><th class="confluenceTh">Country</th><th class="confluenceTh">Population</th><th class="confluenceTh">Rating</th></tr><tr><td class="confluenceTd">Paris</td><td class="confluenceTd">France</td><td class="confluenceTd"><span style="color: rgb(0,0,0);">2,240,621</span></td><td class="confluenceTd">7.9</td></tr><tr><td class="confluenceTd">Prague</td><td class="confluenceTd"> </td><td class="confluenceTd"><span style="color: rgb(0,0,0);">1,267,449</span></td><td class="confluenceTd">8.1</td></tr><tr><td class="confluenceTd">Melbourne</td><td class="confluenceTd"> </td><td class="confluenceTd"><span style="color: rgb(0,0,0);">4,529,500</span></td><td class="confluenceTd">3.4</td></tr></tbody></table></div><p>The purpose of the property 'Rating' is intentionally unclear.</p><p><a href="https://www.wikidata.org/wiki/Wikidata:Main_Page" class="external-link" rel="nofollow">https://www.wikidata.org/wiki/Wikidata:Main_Page</a></p><p><a href="https://gate.d5.mpi-inf.mpg.de/webyago3spotlx/Browser" class="external-link" rel="nofollow">https://gate.d5.mpi-inf.mpg.de/webyago3spotlx/Browser</a></p><p>The result could look like this:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Result format</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: js; gutter: true; theme: Eclipse" data-theme="Eclipse">{
	// Subject column
	&quot;subjectColumnPosition&quot; : { 
		&quot;index&quot;: 0 
	},
	
	// Column headers annotations
    &quot;headerAnnotations&quot; : [
		// City
        {
			&quot;candidates&quot; : {
				&quot;wikidata&quot; : [
					{
						&quot;entity&quot;: { 
							&quot;resource&quot; : &quot;https://www.wikidata.org/wiki/Q515&quot;, 
							&quot;label&quot; : &quot;city&quot; 
						},
						&quot;likelihood&quot; : 0.79,
						&quot;chosen&quot; : true
					}
				],
				&quot;yago&quot; : [
					{
						&quot;entity&quot; : { 
							&quot;resource&quot; : &quot;entityIn=city&quot;, 
							&quot;label&quot; : &quot;city&quot; 
						},
						&quot;likelihood&quot; : 0.5
					}
				]
			}
		},
		
		// Country
        {
			&quot;candidates&quot; : {
				&quot;wikidata&quot; : [
					{
						&quot;entity&quot; : { 
							&quot;resource&quot; : &quot;https://www.wikidata.org/wiki/Q6256&quot;, 
							&quot;label&quot; : &quot;country&quot; 
						},
						&quot;likelihood&quot; : 0.91,
						&quot;chosen&quot; : true
					},
					{
						&quot;entity&quot; : { 
							&quot;resource&quot; : &quot;https://www.wikidata.org/wiki/Q7275&quot;, 
							&quot;label&quot; : &quot;state&quot; 
						},
						&quot;likelihood&quot; : 0.65,
						&quot;chosen&quot; : true
					}
				],
				&quot;yago&quot; : [
					{
						&quot;entity&quot; : { 
							&quot;resource&quot; : &quot;entityIn=country&quot;, 
							&quot;label&quot; : &quot;country&quot; 
						},
						&quot;likelihood&quot; : 0.75,
						&quot;chosen&quot; : true
					}
				]
			}
		},
 
		// Population
        {
			&quot;candidates&quot; : {
				&quot;wikidata&quot; : [
					{
						&quot;entity&quot; : { 
							&quot;resource&quot; : &quot;https://www.wikidata.org/wiki/Q33829&quot;, 
							&quot;label&quot; : &quot;population&quot; 
						},
						&quot;likelihood&quot; : 0.88,
						&quot;chosen&quot; : false
					}
				]
			}
		},
 
		// Rating
        {
			&quot;candidates&quot; : {}
		}
    ],
	
	// Cells annotations
	&quot;cellAnnotations&quot; : [
		// 1st row
		[
			// Paris
			{
				&quot;candidates&quot; : {
					&quot;wikidata&quot; : [
						{
							&quot;entity&quot; : { 
								&quot;resource&quot; : &quot;https://www.wikidata.org/wiki/Q90&quot;, 
								&quot;label&quot; : &quot;Paris&quot; 
							},
							&quot;likelihood&quot; : 0.92,
							&quot;chosen&quot; : true
						}
					]
				}
			},
 
			// France
			{
				&quot;candidates&quot; : {
					&quot;wikidata&quot; : [
						{
							&quot;entity&quot; : { 
								&quot;resource&quot; : &quot;https://www.wikidata.org/wiki/Q142&quot;, 
								&quot;label&quot; : &quot;France&quot; 
							},
							&quot;likelihood&quot; : 0.92,
							&quot;chosen&quot; : true
						}
					]
				}
			},
 
			// 2,240,621
			{
				&quot;candidates&quot; : {}
			},
 
			// 7.9
			{
				&quot;candidates&quot; : {}
			}
		],
		
		// 2nd row
		[
			// Prague
			{
				&quot;candidates&quot; : {
					&quot;wikidata&quot; : [
						{
							&quot;entity&quot; : { 
								&quot;resource&quot; : &quot;https://www.wikidata.org/wiki/Q1085&quot;, 
								&quot;label&quot; : &quot;Prague&quot; 
							},
							&quot;likelihood&quot; : 0.92,
							&quot;chosen&quot; : true
						}
					]
				}
			},
 
			// Empty
			{
				&quot;candidates&quot; : {}
			},
 
			// 1,267,449
			{
				&quot;candidates&quot; : {}
			},
			
			// 8.1
			{
				&quot;candidates&quot; : {}
			}
		],
 
		// 3rd row
		[
			// Melbourne
			{
				&quot;candidates&quot; : {
					&quot;wikidata&quot; : [
						{
							&quot;entity&quot; : { 
								&quot;resource&quot; : &quot;https://www.wikidata.org/wiki/Q3141&quot;, 
								&quot;label&quot; : &quot;Melbourne&quot; 
							},
							&quot;likelihood&quot; : 0.92,
							&quot;chosen&quot; : true
						}
					]
				}
			},
 
			// Empty
			{
				&quot;candidates&quot; : {}
			},			
 
			// 4,529,500
			{
				&quot;candidates&quot; : {}
			},
 
			// 3.4
			{
				&quot;candidates&quot; : {}
			}
		]
    ],
	
	// Relations between columns (may be sparse)
    &quot;columnRelationAnnotations&quot;: {
		// Indicates relations for the 1st column.
		&quot;0&quot; : {
			// Indicates relations between the 1st and 3rd column
			&quot;2&quot; : {
				&quot;candidates&quot; : {
					&quot;wikidata&quot; : [
						{
							&quot;entity&quot; : {
								&quot;resource&quot; : &quot;https://www.wikidata.org/wiki/Property:P1082&quot;,
								&quot;label&quot; : &quot;has population&quot;
							},
							&quot;likelihood&quot; : 0.9,
							&quot;chosen&quot; : true
							}
						}
					]
				}
			}
		}		
    },
	
	// Relations between cells in the same row
    &quot;cellRelationAnnotations&quot;: [
		// Indicates relations for the 1st column.
		&quot;0&quot; : {
			// Indicates relations between the 1st and 3rd column
			&quot;2&quot; : {
				// Indicates relations between the 1st and 3rd column in the first row. Therefore &quot;Paris has population 2,240,621&quot; 
				&quot;0&quot; : {
					&quot;candidates&quot; : {
						&quot;wikidata&quot; : [
							{
								&quot;entity&quot; : {
									&quot;resource&quot; : &quot;https://www.wikidata.org/wiki/Property:P1082&quot;,
									&quot;label&quot; : &quot;has population&quot;
								},
								&quot;likelihood&quot; : 0.9,
								&quot;chosen&quot; : true
							}
						]
					}
				}			
			}
		}		
    ]
}</pre>
</div></div><p> </p><p> </p><p><strong><strong><strong>(TS7)</strong></strong></strong></p><pre>READY<strong><strong><strong><br/></strong></strong></strong></pre><p> </p><p>Possible states: READY, SCHEDULED, CANCELLED, FINISHED.</p><p><strong><strong><strong><span class="confluence-anchor-link" id="RESTAPI:1stiteration-screenshot1"></span>(Screenshot1)</strong></strong></strong></p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" alt="How to send both the JSON object and the file at once" confluence-query-params="effects=border-simple,blur-border,tape" src="attachments/73075534/73076303.png?effects=border-simple,blur-border,tape" data-image-src="attachments/73075534/73076303.png" data-unresolved-comment-count="0" data-linked-resource-id="73076303" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="multipart_form_upload.png" data-base-url="https://grips.semantic-web.at" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73075534" data-linked-resource-container-version="37" title="How to send both the JSON object and the file at once"></span></p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/73075534/73076303.png">multipart_form_upload.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="comments" class="pageSectionTitle">Comments:</h2>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-74189176"></a>
                                    <font class="smallfont"><p>Regarding the API for files, PUT: </p><ul><li>Why do the client has to specify upload time? I would expect this is calculated by the server. </li><li>When PUTting files to <strong>files</strong>/<strong>awesome_movies_2016</strong>, why do I need to define ID in JSON? Id is already in the path. </li><li>Also when PUTting file via multipart, it is kind of strange that you have to provide the file and also location where the file is put (this is redundant as the location is defined by the URL invoked)</li><li><strong>Summary:</strong> So ideally, when putting a file, I should be required to only provide some authentication token and either provide a location (from which the file should be downloaded) or provide the file directly. </li></ul><p> </p><p>Similarly, when e.g. putting the task to the server, why do I need to define createdDateTime? This should be added by the server. </p><p> </p><p>General issue: </p><ul><li><a href="https://github.com/odalic/sti/issues/102" class="external-link" rel="nofollow">https://github.com/odalic/sti/issues/102</a></li></ul></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/contenttypes/comment_16.png" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by knapt at Aug 03, 2016 14:10
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-74189232"></a>
                                    <font class="smallfont"><blockquote><p>Why do the client has to specify upload time? I would expect this is calculated by the server.</p></blockquote><p>Yeah, this is an oversight made in the early development phase. Caused in part by too strict approach to PUT as a method that strictly updates the whole resource (and the upload time was established as an attribute of the resource) and in part by the fact that I strived to make the request-to-object mapping as simple as possible (which is no longer necessary). It will be definitely fixed in the second iteration version of the API. (Making a separate Github issue right now: <a href="https://github.com/odalic/sti/issues/103" class="external-link" rel="nofollow">https://github.com/odalic/sti/issues/103</a> ).</p><blockquote><p>When PUTting files to <strong>files</strong>/<strong>awesome_movies_2016</strong>, why do I need to define ID in JSON? Id is already in the path.</p></blockquote><p>Same case as in the previous statement, the ID was considered part of the resource. We may drop it as well in the second iteration.</p><blockquote><p>Also when PUTting file via multipart, it is kind of strange that you have to provide the file and also location where the file is put (this is redundant as the location is defined by the URL invoked)</p></blockquote><p>Yeah, we have encountered this problem as well. Since than I always planned to drop the requirement to send the custom JSON File object altogether when using multipart/form content type (and leave it only for the case when using application/json type to specify remote file) as most of the provided information can be read directly from the standard headers (apart from the CSV meta/data, e.g. delimiters; but this might form a separate object and is not part of the second iteration AFAIK).</p><p> </p><p>I will make the fixes under the 2nd version of the REST API and the mentioned Github issue ( <a href="https://github.com/odalic/sti/issues/103" class="external-link" rel="nofollow">https://github.com/odalic/sti/issues/103</a> ).</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/contenttypes/comment_16.png" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by brodecv at Aug 03, 2016 16:19
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-74189268"></a>
                                    <font class="smallfont"><p>Thanks!</p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/contenttypes/comment_16.png" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by knapt at Aug 04, 2016 9:24
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    </div>
                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 01, 2017 13:30</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
